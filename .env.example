# MC Exchange Backend Environment Variables
# Copy this file to .env and fill in your values

# ============================================
# Server Configuration
# ============================================
NODE_ENV=development
PORT=3000
API_URL=http://localhost:3000
FRONTEND_URL=http://localhost:5173

# ============================================
# Database Configuration (MySQL)
# ============================================
# Option 1: Connection URL (preferred)
DATABASE_URL=mysql://mc_user:mc_password@localhost:3306/mc_exchange

# Option 2: Individual settings
DB_HOST=localhost
DB_PORT=3306
DB_NAME=mc_exchange
DB_USER=mc_user
DB_PASSWORD=mc_password

# ============================================
# JWT Configuration
# ============================================
# Generate secure secrets with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production-min-32-chars
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# Redis Configuration
# ============================================
# Option 1: Connection URL
REDIS_URL=redis://localhost:6379

# Option 2: Individual settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ============================================
# Email Configuration (Resend)
# ============================================
# Get your API key from https://resend.com
RESEND_API_KEY=re_xxxxxxxxxxxx
EMAIL_FROM=MC Exchange <noreply@mcexchange.com>

# ============================================
# Stripe Configuration
# ============================================
# Get your keys from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxx

# Stripe Price IDs (create these in Stripe Dashboard)
STRIPE_PRICE_STARTER_MONTHLY=price_xxxx
STRIPE_PRICE_STARTER_YEARLY=price_xxxx
STRIPE_PRICE_PROFESSIONAL_MONTHLY=price_xxxx
STRIPE_PRICE_PROFESSIONAL_YEARLY=price_xxxx
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_xxxx
STRIPE_PRICE_ENTERPRISE_YEARLY=price_xxxx

# ============================================
# FMCSA API Configuration
# ============================================
# Get your key from https://mobile.fmcsa.dot.gov/QCDevsite/
FMCSA_API_KEY=your-fmcsa-api-key
FMCSA_API_URL=https://mobile.fmcsa.dot.gov/qc/services

# ============================================
# File Upload Configuration
# ============================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# S3 Configuration (optional - for cloud storage)
S3_ENABLED=false
S3_BUCKET=mc-exchange-uploads
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# Logging
# ============================================
LOG_LEVEL=debug
LOG_FORMAT=json

# ============================================
# CORS Configuration
# ============================================
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# ============================================
# Platform Configuration
# ============================================
PLATFORM_FEE_PERCENTAGE=5
DEPOSIT_PERCENTAGE=10
CREDIT_PRICE_PER_UNIT=5

# ============================================
# Security
# ============================================
# Set to true in production behind a reverse proxy
TRUST_PROXY=false

# ============================================
# Feature Flags (optional)
# ============================================
FEATURE_REGISTRATION_ENABLED=true
FEATURE_STRIPE_ENABLED=true
FEATURE_WEBSOCKET_ENABLED=true
FEATURE_EMAIL_VERIFICATION_REQUIRED=false
